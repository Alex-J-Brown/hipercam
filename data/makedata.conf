# Example configuration file for 'makedata' script. Although all parameters
# are read in by configparser as strings, they will be translated to different
# types in general; the types are indicated in square brackets.

# overwrite = controls whether existing files with the same name as the
#             output generated by this routine are overwritten
# dtype = float32 or uint16, output data format. If not specified, will
#         be float64

[general]
overwrite = true
dtype = float32

#------------
# CCD section
#
# Section titles must specify a label for the CCD, e.g. [ccd 1] will
# lead to a label '1' for the CCD. Then lots of parameters per CCD.  angle,
# scale, xoff, yoff, flscale are all applied to whatever targets are added to
# provide variation. In this first case, the CCD acts as the reference so they
# take default values.
#
# Parameters:
#
# nxtot = maximum X-dimension, unbinned pixels [int]
# nytot = maximum Y-dimension, unbinned pixels [int]
# xcen = offset of centre of rotation of CCD from (1+nxtot)/2
# ycen = offset of centre of rotation of CCD from (1+nytot)/2
# angle = anti-clockwise rotation of field around centre, degrees [float]
# scale = the field will be expanded by this factor [float]
# xoff = X offset to apply to targets for this CCD, unbinned pixels [float]
# yoff = Y offset to apply to targets for this CCD, unbinned pixels [float]
# fscale = factor to scale the target fluxes by [float]
# toff = time offset to apply, seconds [float]
# field = name of target field file [string], optional
# ndiv = sub-division factor used when adding fields [int]

[ccd 1]
nxtot = 2048
nytot = 1024
xcen = 0.
ycen = 0.
angle = 0.0
scale = 1.0
xoff = 0.0
yoff = 0.0
fscale = 1.0
toff = 0.0
field = field.fld
ndiv = 2

[ccd 4]
nxtot = 2048
nytot = 1024
xcen = 3.
ycen = -2.
angle = 10.0
scale = 1.02
xoff  =  1.0
yoff =  -2.0
fscale =  0.5
toff = 1.5
field = field.fld
ndiv = 2

#----------------------
# Window section
#
# The section titles for the windows must specify the CCD they attach to and
# a label for the window. It is an error for the related CCD not to
# have been defined. [window 3 F] defines window F for CCD 3 for example.
#
# Parameters:
#
# llx  = X position of lower-left unbinned pixel (origin = (1,1)) [int]
# lly  = Y position of lower-left unbinned pixel (origin = (1,1)) [int]
# nx   = X dimension of window, binned pixels [int]
# ny   = Y dimension of window, binned pixels [int]
# xbin = X binning factor [int]
# ybin = Y binning factor [int]
# read = Readout noise, RMS ADU [float]
# gain = CCD gain, electrons per ADU [float]

[window 1 E1]
llx = 11
lly = 21
nx = 200
ny = 300
xbin = 2
ybin = 1
read = 2.8
gain = 1.1

[window 1 E2]
llx = 501
lly = 321
nx = 200
ny = 400
xbin = 2
ybin = 1
read = 3.2
gain = 1.2

[window 1 H1]
llx = 1601
lly = 521
nx = 200
ny = 500
xbin = 2
ybin = 1
read = 3.2
gain = 1.2

[window 4 E1]
llx = 11
lly = 21
nx = 200
ny = 300
xbin = 2
ybin = 1
read = 2.8
gain = 1.1

[window 4 E2]
llx = 501
lly = 321
nx = 200
ny = 400
xbin = 2
ybin = 1
read = 3.2
gain = 1.2

[window 4 H1]
llx = 1601
lly = 521
nx = 200
ny = 500
xbin = 2
ybin = 1
read = 3.2
gain = 1.2


#-------------------
# Flat field section
#
# Generates, applies & saves a flat field. It is optional;
# comment out the [flat] part if you don't want it
#
# Parameters:
#
# rms = RMS scatter in pixel values relative to 1.0 [float]
# nspeck = number of dust specks to spread over each CCD [int]
# radius = radius (RMS of gaussian, unbinned pixels) of each speck [float]
# depth = depth of each dust dip at its centre [float]
# flat = name of file to save the flat to [string]

[flat]
rms = 0.02
nspeck = 100
radius = 1.0
depth = 0.3
flat = flat

#-------------
# Bias section
#
# Generates, applies & saves a bias frame. It is optional; comment out the
# [bias] part if you don't want it
#
# Parameters:
#
# mean = mean level [float]
# rms = RMS scatter in pixel values relative to the mean [float]
# bias = name of file to save the bias to [string]

[bias]
mean = 1250.
rms = 2.
bias = bias

#---------------
# Timing section
#
# Determines the times given to each frame (see also toff as times are
# per CCD).
#
# Parameters:
#
# utc_start = starting UTC in YYYY-MM-DDTHH:MM:SS.SSSSS format [string]
# exposure  = exposure time, seconds [float]
# deadtime  = dead time between exposures, seconds [float]

[timing]
utc_start = 2017-02-08T00:00:00.123456789
exposure = 10.34
deadtime = 0.024

#---------
# Movement
#
# Determines how the field moves, a combination of steady drift with
# occasional resets and a bit of random jitter.
#
# xdrift = X drift rate, unbinned pixels per frame [float]
# ydrift = Y drift rate, unbinned pixels per frame [float]
# nreset = period between sudden resets, frames [int]
# jitter = white noise RMS jitter in position, unbinned pixels [float]

[movement]
xdrift = +0.35
ydrift = -0.16
nreset = 50
jitter = 0.8

#------------
# Output files
#
# Defines the files which are written as a root name plus an integer index
# number.
#
# Parameters:
#
# root = root of file name [string]
# nfiles = number of files [int]
# ndigit = number of digits, e.g. 'fake012.hcm' [int]
#
# If nfiles == 0, then no integer index is added and just one file called
# 'root' plus the standard extension for HiPERCAM files will be written.

[files]
root = fake
nfiles = 100
ndigit = 3


